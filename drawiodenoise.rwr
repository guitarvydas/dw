DENOISE_RWR {
  parser [xml] = ‛«xml»’

  xml [prolog? root] = ‛«prolog»«root»’
  prolog [ws1* lkeq any+ kqgt ws2*] = ‛«ws1»«lkeq»«any»«kqgt»«ws2»’
  root [nestedElement] = ‛«nestedElement»’

  element_nestedElement [ws* e] = ‛«ws»«e»’
  element_bottomElement [ws* e] = ‛«ws»«e»’
  element_other [stuff+] = ‛«stuff»’

  bottomElement [klt nameAndAttributesAndSpaces kslgt ws*] = 
    ‛«klt»«nameAndAttributesAndSpaces»«kslgt»«ws»’

  attribute [name keq str] = ‛«name»«keq»«str»’
  name [nameCharacter+] = ‛«nameCharacter»’
  nameCharacter [c] = ‛«c»’
  ws [c] = ‛«c»’
  nameAndAttributesAndSpaces [name wsattribute* ws*] = ‛«name»«wsattribute»«ws»’
  stuff [any] = ‛«any»’

  stringNoSpaces [dq1 c* dq2] = ‛«c»’
  stringWithSpaces [dq1 c* dq2] = ‛«dq1»«c»«dq2»’

  dq [kdq] = ‛"’

  wsattribute [ws+ attribute] = ‛ «attribute»’


  nestedElement_mxrectangle [ws1* klt k wsattr+ ws* kslgt ws2*] = 
    ‛«ws1»(rectangle «wsattr»«ws»)«ws2»’

  nestedElement_mxgeometry [ws1* klt k wsattr+ ws* kslgt ws2*] = 
    ‛«ws1»(geometry «wsattr»«ws»)«ws2»’

  nestedElement_mxgeometrydeep [ws1* klt kmxcell wsattr+ ws* kgt element+ kgtsl name kgt2 ws2*] = 
    ‛«ws1»(geometry «wsattr»«ws»«element»)«ws2»’

  nestedElement_mxcellshallow [ws1* klt kmxcell wsattr+ ws* kslgt ws2*] = 
    ‛«ws1»(CELL_SHALLOW «wsattr»«ws»)«ws2»’

  nestedElement_mxcell [ws1* klt kmxcell wsattr+ ws* kgt element+ kgtsl name kgt2 ws2*] = 
    ‛«ws1»(CELL_DEEP «wsattr»«ws»«element»)«ws2»’

  nestedElement_othershallow [ws1* klt nm wsattr* ws* kslgt ws2*] = 
    ‛(«nm»_SHALLOW «wsattr»«ws»)«ws2»’

  nestedElement_other [ws1* klt nm wsattr* ws* kgt element+ kgtsl name kgt2 ws2*] = 
    ‛(«nm»_DEEP «wsattr»«ws»«element»)«ws2»’


}
